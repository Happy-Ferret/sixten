deref : forall A. Ptr A -> A
deref p = case p of Ptr a -> a

type Unit' where
  unit : Unit'

type Tuple A B where
  tuple : A -> B -> Tuple A B

type Nat' where
  Zero : Nat'
  Succ : Ptr Nat' -> Nat'

ntuple : (n : ptr nat') -> type
ntuple n = case deref n of
  Zero -> Unit'
  Succ n' -> Tuple int (ntuple n')

test : ntuple (Ptr (Succ (Ptr (Succ (Ptr Zero)))))
test = tuple 0 (tuple 1 unit)

lol = printInt case test of
  tuple 0 (tuple 1 unit) -> 111
  _ -> 222
